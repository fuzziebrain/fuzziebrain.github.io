"use strict";(self.webpackChunknewsite=self.webpackChunknewsite||[]).push([[80430],{3905:(e,t,a)=>{a.r(t),a.d(t,{MDXContext:()=>c,MDXProvider:()=>p,mdx:()=>f,useMDXComponents:()=>m,withMDXComponents:()=>d});var n=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var c=n.createContext({}),d=function(e){return function(t){var a=m(t.components);return n.createElement(e,o({},t,{components:a}))}},m=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=m(e.components);return n.createElement(c.Provider,{value:t},e.children)},h="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,o=e.originalType,r=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=m(a),p=i,h=d["".concat(r,".").concat(p)]||d[p]||u[p]||o;return a?n.createElement(h,l(l({ref:t},c),{},{components:a})):n.createElement(h,l({ref:t},c))}));function f(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=a.length,r=new Array(o);r[0]=g;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[h]="string"==typeof e?e:i,r[1]=l;for(var c=2;c<o;c++)r[c]=a[c];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}g.displayName="MDXCreateElement"},36413:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var n=a(87462),i=(a(67294),a(3905));const o={title:"Train an AI Model to Recognize Oracle APEX Challenge Coins",tags:["artificial intelligence","machine learning","ocr","oracle ai","oracle apex","ai applications","challenge coin","innovative technology","community","image recognition"],categories:["Technology"],authors:["fuzziebrain"],date:new Date("2023-09-04T23:00:00.000Z")},r=void 0,l={permalink:"/content/train-an-ai-model-to-recognize-oracle-apex-challenge-coins",source:"@site/posts/train-an-ai-model-to-recognize-oracle-apex-challenge-coins/index.md",title:"Train an AI Model to Recognize Oracle APEX Challenge Coins",description:"Black Star Line Stock Certificate",date:"2023-09-04T23:00:00.000Z",formattedDate:"September 4, 2023",tags:[{label:"artificial intelligence",permalink:"/content/tags/artificial-intelligence"},{label:"machine learning",permalink:"/content/tags/machine-learning"},{label:"ocr",permalink:"/content/tags/ocr"},{label:"oracle ai",permalink:"/content/tags/oracle-ai"},{label:"oracle apex",permalink:"/content/tags/oracle-apex"},{label:"ai applications",permalink:"/content/tags/ai-applications"},{label:"challenge coin",permalink:"/content/tags/challenge-coin"},{label:"innovative technology",permalink:"/content/tags/innovative-technology"},{label:"community",permalink:"/content/tags/community"},{label:"image recognition",permalink:"/content/tags/image-recognition"}],readingTime:7.59,hasTruncateMarker:!0,authors:[{name:"Adrian Png",title:"Senior Cloud Solutions Architect @ Insum",url:"https://github.com/fuzziebrain",imageURL:"https://github.com/fuzziebrain.png",key:"fuzziebrain"}],frontMatter:{title:"Train an AI Model to Recognize Oracle APEX Challenge Coins",tags:["artificial intelligence","machine learning","ocr","oracle ai","oracle apex","ai applications","challenge coin","innovative technology","community","image recognition"],categories:["Technology"],authors:["fuzziebrain"],date:"2023-09-04T23:00:00.000Z"},nextItem:{title:"Revolutionising Language Learning: How AI and Oracle APEX Transform Everyday Challenges",permalink:"/content/revolutionising-language-learning"}},s={authorsImageUrls:[void 0]},c=[{value:"Background",id:"background",level:2},{value:"OCI Vision",id:"oci-vision",level:2},{value:"Prepare the Dataset",id:"prepare-the-dataset",level:2},{value:"Custom Model Training",id:"custom-model-training",level:2},{value:"Using the Custom Model in an Application",id:"using-the-custom-model-in-an-application",level:2},{value:"Summary",id:"summary",level:2}],d={toc:c};function m(e){let{components:t,...o}=e;return(0,i.mdx)("wrapper",(0,n.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)("p",null,(0,i.mdx)("img",{alt:"Black Star Line Stock Certificate",src:a(92324).Z,width:"1280",height:"988"})),(0,i.mdx)("p",null,(0,i.mdx)("a",{parentName:"p",href:"https://douggault.com/"},"Doug Gault")," had suggested a while ago that I could bring more awareness to the ",(0,i.mdx)("a",{parentName:"p",href:"/content/id/1727"},"Oracle APEX Challenge Coin")," project if I had an ",(0,i.mdx)("a",{parentName:"p",href:"https://apex.oracle.com"},"Oracle APEX"),' application that plots the location of each sponsored coin on a world map. I agree. However, aside from a lack of time, I had also wanted to find interesting ways for awardees to submit their claim of ownership. Over the last week, I had worked on making this dream of a "claims" map a reality with the use of the ',(0,i.mdx)("a",{parentName:"p",href:"https://oracle.com/cloud"},"Oracle Cloud Infrastructure")," (OCI) ",(0,i.mdx)("a",{parentName:"p",href:"https://www.oracle.com/artificial-intelligence/vision/"},"Vision")," AI service, more specifically, its custom model training feature."),(0,i.mdx)("p",null,"Here's an early preview of the claims process in the ",(0,i.mdx)("em",{parentName:"p"},"Claim My Oracle APEX Challenge Coin")," application."),(0,i.mdx)("youtube",{youTubeId:"a0UErWOPUzw"}),(0,i.mdx)("h2",{id:"background"},"Background"),(0,i.mdx)("p",null,"For those new to Oracle APEX, and those who have not been acquainted with the Oracle APEX Challenge Coin, it was a project I had started in early 2019 to support and acknowledge the value that developers bring to the world community. I had designed and minted a total of 200 coins over two years, and have since distributed almost all of them. As of now, there are only two more coins available for sponsorship. Read the original ",(0,i.mdx)("a",{parentName:"p",href:"/content/id/1727"},"article")," for more details and how to sponsor these challenge coins."),(0,i.mdx)("h2",{id:"oci-vision"},"OCI Vision"),(0,i.mdx)("p",null,"The OCI Vision is one of several AI services available on the OCI. Three pre-trained models are available for developers to create intelligent applications that need to perform computer vision tasks, such as, image and text recognition. Using the pre-trained models, developers can use the OCI REST API to perform image classifications, object detections, and text detections. It also included document processing tasks like key-value pair extraction, and document classification. However, it has since been spun off to a separate offering called ",(0,i.mdx)("a",{parentName:"p",href:"https://www.oracle.com/artificial-intelligence/document-understanding/"},"Document Understanding"),". If you are interested to know more about using Document Understanding in Oracle APEX, please check out this ",(0,i.mdx)("a",{parentName:"p",href:"https://apexapps.oracle.com/pls/apex/r/dbpm/livelabs/view-workshop?wid=3728"},"Oracle LiveLabs workshop")," that I published in July, 2023."),(0,i.mdx)("p",null,"OCI Vision uses ",(0,i.mdx)("a",{parentName:"p",href:"https://wikipedia.org/wiki/Deep_learning"},"deep learning")," (DL) approaches, and one of the key features of DL is the ability to perform ",(0,i.mdx)("a",{parentName:"p",href:"https://wikipedia.org/wiki/Transfer_learning"},"transfer learning"),". ",(0,i.mdx)("em",{parentName:"p"},"TL;DR"),", transfer learning is process that uses pre-trained, generalist models, and then perform additional training over specialised datasets. This significantly reduces the amount of time, and training data, needed to train a machine learning (ML) model for specific operational needs. For example, recognising an Oracle APEX Challenge Coin! The OCI Vision's custom model feature allows developers to fine-tune and train highly specialised computer vision (CV) models to perform either image classification or object detection tasks."),(0,i.mdx)("p",null,"In this project, I will train a custom model for detecting the front and back sides of the coin."),(0,i.mdx)("h2",{id:"prepare-the-dataset"},"Prepare the Dataset"),(0,i.mdx)("p",null,"Availability of large and high quality datasets are crucial to training good CV models that have high precision and recall. Since the project was launched, recipients have spontaneously posted their cherished gifts on social media. Hence, my first challenge was to scour the Internet for these photographs. There are only 200 coins ever minted, and not every recipient has posted a photo of their coin on social media. Thankfully, I was able to harvest about slightly over one hundred of such images. They include photos of the front and back of the coin, different lighting scenes, pose, and proportional sizes."),(0,i.mdx)("p",null,"A prerequisite for performing custom model training is to create a data set in the  OCI ",(0,i.mdx)("a",{parentName:"p",href:"https://www.oracle.com/artificial-intelligence/data-labeling/"},"Data Labeling")," service. This is an OCI managed service that lets data scientists and developers to curate and label data that will be used to perform supervised ML training. Creating an image classification and object detection models is a supervised learning task."),(0,i.mdx)("p",null,"Before creating the dataset, assemble and upload all the images to an OCI ",(0,i.mdx)("a",{parentName:"p",href:"https://www.oracle.com/cloud/storage/object-storage/"},"Object Storage")," bucket. Once the images have been staged, the dataset created, and the records generated, you will need to work through all the images to mark and label the dataset records. Here's a quick demonstration of the data labelling process for object detection use:"),(0,i.mdx)("youtube",{youTubeId:"gYtKz2phnsQ"}),(0,i.mdx)("h2",{id:"custom-model-training"},"Custom Model Training"),(0,i.mdx)("p",null,"As mentioned earlier, the OCI Vision custom models feature allows data scientists and developers to easily fine-tune a inference model for specialised use cases. After creating the dataset and labelling the 100+ images, next step is to create a project and then a custom model. Choose the appropriate model type for your business use case. For this application, I chose ",(0,i.mdx)("em",{parentName:"p"},"Object detection"),", and then moved on to select the dataset I had created with the Data Labeling service."),(0,i.mdx)("p",null,(0,i.mdx)("img",{alt:"Choose model type.",src:a(37508).Z,width:"1280",height:"400"})),(0,i.mdx)("p",null,"There are more options to consider, including the desired training duration time. There are three options available: recommended, quick, and custom modes. In the early phases of the model training, I'd recommend using the quick mode, just to get a sense of how well the model might perform, given the quality and quantity of labelled samples in your dataset."),(0,i.mdx)("p",null,"After the training is completed, the model detail will provide you the necessary metrics to decide if you need to repeat the process. The ",(0,i.mdx)("em",{parentName:"p"},"precision")," and ",(0,i.mdx)("em",{parentName:"p"},"recall")," are measurements typically used for judging the performance of ML models. If your model scores poorly, consider sourcing additional data for training and testing, or applying image transformations. Increasing the training duration may help, but sometimes, over-fitting a ML model may yield poorer results."),(0,i.mdx)("p",null,"For convenience, in the lower half of the custom model details page, you will find a simple user interface for applying the custom model to source images."),(0,i.mdx)("youtube",{youTubeId:"r38VySvkkHA"}),(0,i.mdx)("h2",{id:"using-the-custom-model-in-an-application"},"Using the Custom Model in an Application"),(0,i.mdx)("p",null,"The custom model is trained to recognise both the front and back of an Oracle APEX challenge coin. However, for this application, I will only need it to detect the back side of the coin. In addition to object detection, I will also have OCI Vision to perform text detection (optical character recognition), and extract the unique serial number found on every coin."),(0,i.mdx)("p",null,"The flow of the application is as follows:"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},"User begins a new claim using a wizard."),(0,i.mdx)("li",{parentName:"ol"},"User uploads a photo of the back of the coin, and chooses the unique serial number. A unique claims identifier is issued, and together with the submitted information, it is added to an APEX collection."),(0,i.mdx)("li",{parentName:"ol"},"In the next step, the user will optionally provide a display name that will be rendered in the map. The user will also use the Oracle APEX geocoded address functionality to set the estimated location of the coin."),(0,i.mdx)("li",{parentName:"ol"},"User confirms the details to be submitted."),(0,i.mdx)("li",{parentName:"ol"},"Upon confirmation, the claim is created in the database."),(0,i.mdx)("li",{parentName:"ol"},"The uploaded image is stored in the designated OCI Object Storage bucket."),(0,i.mdx)("li",{parentName:"ol"},"The claim is then evaluated using the OCI Vision using its OCI REST API. This involves an HTTP ",(0,i.mdx)("inlineCode",{parentName:"li"},"POST")," to the endpoint: ",(0,i.mdx)("inlineCode",{parentName:"li"},"https://vision.aiservice.{{REGION}}.oci.oraclecloud.com/20220125/actions/analyzeImage")," (substituted ",(0,i.mdx)("inlineCode",{parentName:"li"},"{{REGION}}")," with the desired region)."),(0,i.mdx)("li",{parentName:"ol"},"The results of the REST call is evaluated. If the desired label and serial number text is found, with the minimum confidence score, then the claim's validation status is marked ",(0,i.mdx)("inlineCode",{parentName:"li"},"PASS"),". Otherwise, it is marked ",(0,i.mdx)("inlineCode",{parentName:"li"},"FAIL"),"."),(0,i.mdx)("li",{parentName:"ol"},"The map is refreshed, only displaying claims where the validation status value is ",(0,i.mdx)("inlineCode",{parentName:"li"},"PASS"),".")),(0,i.mdx)("p",null,"This ",(0,i.mdx)("em",{parentName:"p"},"AnalyzeImage")," endpoint expects a JSON payload described by the ",(0,i.mdx)("em",{parentName:"p"},"AnalyzeImagesDetails"),". This payload is sent in the request body. Here's what it looks like:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "compartmentId": "ocid1.compartment.oc1..<REDACTED>",\n    "image": {\n        "source": "OBJECT_STORAGE",\n        "namespaceName": "<REDACTED>",\n        "bucketName": "claims-bucket",\n        "objectName": "submission_20230904011039.jpg"\n    },\n    "features": [\n        {\n            "modelId": "ocid1.aivisionmodel.oc1.phx.<REDACTED>",\n            "featureType": "OBJECT_DETECTION",\n            "maxResults": 10\n        },\n        {\n            "featureType": "TEXT_DETECTION",\n            "maxResults": 10\n        }\n    ]\n}\n')),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"image")," attribute describes the image source, including the bucket name, and unique object name. Next, the ",(0,i.mdx)("inlineCode",{parentName:"p"},"features")," attribute is an array of JSON objects describing the type(s) of image analysis to perform. The first feature is of type ",(0,i.mdx)("inlineCode",{parentName:"p"},"OBJECT_DETECTION"),". Specifying the ",(0,i.mdx)("inlineCode",{parentName:"p"},"modelId")," attribute containing the custom model's ",(0,i.mdx)("em",{parentName:"p"},"OCID"),", will instruct the endpoint to use the custom model, instead of the pre-trained object detection model. The second calls the pre-trained text detection model."),(0,i.mdx)("p",null,"A response for a valid claim would look like this (truncated for readability):"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "imageObjects": [\n        {\n            "name": "Back",\n            "confidence": 0.94813126,\n            ...\n        }\n    ],\n    ...\n    "imageText": {\n        "words": [\n            ...\n            {\n                "text": "A0035",\n                "confidence": 0.9957846,\n                ...\n            }\n        ],\n    ...\n}\n')),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"imageObjects")," attribute returns an array of up to 10 (set in the ",(0,i.mdx)("inlineCode",{parentName:"p"},"maxResults")," attribute of the request body) objects detected. Each contains the label name and corresponding confidence score. Similarly, the ",(0,i.mdx)("inlineCode",{parentName:"p"},"imageText")," returns an array of words (and lines). Each containing the text extracted, and its confidence score. These findings are then used to make an initial assessment if the claim is valid."),(0,i.mdx)("h2",{id:"summary"},"Summary"),(0,i.mdx)("p",null,"The application is still very much in its infancy. So far, working on this project has not only introduced me to the world of OCI Vision custom model training, but also some newer Oracle APEX features that I have yet to use. These includes the Map region and Geocoded Address page item. Next, I'd like to use the ",(0,i.mdx)("em",{parentName:"p"},"Approvals Component")," to implement a simple workflow that adds a human reviewer to make a final determination, and approve the claim."),(0,i.mdx)("admonition",{type:"info"},(0,i.mdx)("p",{parentName:"admonition"},(0,i.mdx)("a",{parentName:"p",href:"https://commons.wikimedia.org/wiki/File:Black_Star_Line_Stock_Certificate.jpg"},"Picture")," from the Wikimedia Commons.")))}m.isMDXComponent=!0},37508:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/choose-model-type-b9fca9a6eb8a811cb7169a5f86e0b0d5.png"},92324:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/stock-certificate-1280-b627af49b4210c615877ecaaaddc9e2f.jpg"}}]);