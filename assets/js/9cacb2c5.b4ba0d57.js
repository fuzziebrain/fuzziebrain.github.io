"use strict";(self.webpackChunknewsite=self.webpackChunknewsite||[]).push([[89113],{3905:(e,t,a)=>{a.r(t),a.d(t,{MDXContext:()=>m,MDXProvider:()=>p,mdx:()=>f,useMDXComponents:()=>d,withMDXComponents:()=>l});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var m=n.createContext({}),l=function(e){return function(t){var a=d(t.components);return n.createElement(e,o({},t,{components:a}))}},d=function(e){var t=n.useContext(m),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},p=function(e){var t=d(e.components);return n.createElement(m.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,m=c(e,["components","mdxType","originalType","parentName"]),l=d(a),p=r,u=l["".concat(i,".").concat(p)]||l[p]||h[p]||o;return a?n.createElement(u,s(s({ref:t},m),{},{components:a})):n.createElement(u,s({ref:t},m))}));function f(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=g;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[u]="string"==typeof e?e:r,i[1]=s;for(var m=2;m<o;m++)i[m]=a[m];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}g.displayName="MDXCreateElement"},62738:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>m});var n=a(87462),r=(a(67294),a(3905));const o={title:"Relocating Compute Instances",tags:["oracle","cloud","oci","IaaS","infrastructure","compute","migration"],slug:"id/1910",authors:["fuzziebrain"],categories:["Technology","Infrastructure","Oracle Cloud"],date:new Date("2019-07-15T00:02:04.000Z")},i=void 0,s={permalink:"/content/id/1910",source:"@site/posts/relocating-compute-instances/index.md",title:"Relocating Compute Instances",description:"Moving a House, New Zealand Style",date:"2019-07-15T00:02:04.000Z",formattedDate:"July 15, 2019",tags:[{label:"oracle",permalink:"/content/tags/oracle"},{label:"cloud",permalink:"/content/tags/cloud"},{label:"oci",permalink:"/content/tags/oci"},{label:"IaaS",permalink:"/content/tags/iaa-s"},{label:"infrastructure",permalink:"/content/tags/infrastructure"},{label:"compute",permalink:"/content/tags/compute"},{label:"migration",permalink:"/content/tags/migration"}],readingTime:3.925,hasTruncateMarker:!0,authors:[{name:"Adrian Png",title:"Senior Cloud Solutions Architect @ Insum",url:"https://github.com/fuzziebrain",imageURL:"https://github.com/fuzziebrain.png",key:"fuzziebrain"}],frontMatter:{title:"Relocating Compute Instances",tags:["oracle","cloud","oci","IaaS","infrastructure","compute","migration"],slug:"id/1910",authors:["fuzziebrain"],categories:["Technology","Infrastructure","Oracle Cloud"],date:"2019-07-15T00:02:04.000Z"},prevItem:{title:"Day 17 - 30 days on the Oracle Cloud",permalink:"/content/id/1911"},nextItem:{title:"Seattle Take Two",permalink:"/content/id/1909"}},c={authorsImageUrls:[void 0]},m=[{value:"Create and Export a Custom Image",id:"create-and-export-a-custom-image",level:2},{value:"Import the Image and Create Compute Instance",id:"import-the-image-and-create-compute-instance",level:2},{value:"Summary",id:"summary",level:2}],l={toc:m};function d(e){let{components:t,...o}=e;return(0,r.mdx)("wrapper",(0,n.Z)({},l,o,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("p",null,(0,r.mdx)("img",{alt:"Moving a House, New Zealand Style",src:a(40404).Z,width:"1280",height:"720"})),(0,r.mdx)("p",null,"To everyone following my ",(0,r.mdx)("a",{parentName:"p",href:"/content/id/1903/"},"30 Days on the Oracle Cloud")," experience, I apologise that I was not able to keep up with the series previously, due to work commitments. I have enrolled in yet another ",(0,r.mdx)("a",{parentName:"p",href:"https://cloud.oracle.com/tryit"},"trial"),", so I am hoping to continue where I left off and share my thirty day adventure with an ",(0,r.mdx)("a",{parentName:"p",href:"https://cloud.oracle.com"},"Oracle Cloud")," trial. I'm on Day 14 now, and for this post, I'll examine an important issue that many of us face, even in our personal life - moving houses!"),(0,r.mdx)("p",null,"Suppose I had a compute instance running ",(0,r.mdx)("a",{parentName:"p",href:"https://apex.oracle.com/"},"Oracle Application Express (APEX)")," to perform some proof of concept tasks and now I am ready to move it from my Oracle Cloud tenancy to a client's. There are several recipes for achieving this goal. I could for example, use the Oracle Database's backup and recovery, or data migration tools, but is there a simpler approach? What if I could clone the server and then ship it over to be deployed on my client's tenancy?"),(0,r.mdx)("p",null,"This is definitely possible and I will walk you through a simple procedure to perform this migration exercise."),(0,r.mdx)("h2",{id:"create-and-export-a-custom-image"},"Create and Export a Custom Image"),(0,r.mdx)("p",null,"First, on the source tenant, create a custom image of the compute instance and then prepare the image for export."),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},"Click ",(0,r.mdx)("i",{class:"fa-solid fa-bars"})," ",(0,r.mdx)("i",{class:"fa-solid fa-caret-right"})," Compute ",(0,r.mdx)("i",{class:"fa-solid fa-caret-right"})," Instances."),(0,r.mdx)("li",{parentName:"ol"},"Place the mouse cursor over the ",(0,r.mdx)("i",{class:"fa-solid fa-ellipsis-h"}),' and then click "Create Custom Image". ',(0,r.mdx)("strong",{parentName:"li"},"WARNING"),": this will initiate a system shutdown on the target instance!\n",(0,r.mdx)("img",{alt:"Initiate custom image creation. IMPORTANT: Instance will shutdown!",src:a(37261).Z,width:"1280",height:"800"})),(0,r.mdx)("li",{parentName:"ol"},'Select the target compartment, enter a name and then click "Create Custom Image".\n',(0,r.mdx)("img",{alt:"Specify name and target compartment",src:a(65144).Z,width:"1280",height:"800"})),(0,r.mdx)("li",{parentName:"ol"},"While waiting for the process to be completed, if a new Object Storage Bucket needs to be created, click ",(0,r.mdx)("i",{class:"fa-solid fa-bars"})," ",(0,r.mdx)("i",{class:"fa-solid fa-caret-right"})," Object Storage ",(0,r.mdx)("i",{class:"fa-solid fa-caret-right"})," Object Storage.\n",(0,r.mdx)("img",{alt:"Create an Object Storage Bucket if necessary",src:a(22383).Z,width:"1280",height:"800"})),(0,r.mdx)("li",{parentName:"ol"},'Enter a Bucket Name, select Standard Storage Tier, use Oracle-managed keys and then click "Create Bucket".'),(0,r.mdx)("li",{parentName:"ol"},"Click ",(0,r.mdx)("i",{class:"fa-solid fa-bars"})," ",(0,r.mdx)("i",{class:"fa-solid fa-caret-right"})," Compute ",(0,r.mdx)("i",{class:"fa-solid fa-caret-right"}),' Custom Images. The status should show green and "Available" when the custom image is ready. At this point, the compute instance would have powered back on automatically.\n',(0,r.mdx)("img",{alt:"Custom Image ready",src:a(97495).Z,width:"1280",height:"800"})),(0,r.mdx)("li",{parentName:"ol"},"Place the mouse cursor over the ",(0,r.mdx)("i",{class:"fa-solid fa-ellipsis-h"}),'  next to the newly created custom image and then click "Export Custom Image".'),(0,r.mdx)("li",{parentName:"ol"},'Select Object Storage Bucket, the Bucket compartment and name, and then enter a new Object Name. Click "Export Image" when you are ready to proceed.\n',(0,r.mdx)("img",{alt:"Export Image to Object Storage Bucket",src:a(90386).Z,width:"1280",height:"800"})),(0,r.mdx)("li",{parentName:"ol"},"Exporting the image takes a while to complete. click ",(0,r.mdx)("i",{class:"fa-solid fa-bars"})," ",(0,r.mdx)("i",{class:"fa-solid fa-caret-right"})," Object Storage ",(0,r.mdx)("i",{class:"fa-solid fa-caret-right"})," Object Storage and then select the bucket that the image was written to. When it is completed, the object will appear in the Objects table."),(0,r.mdx)("li",{parentName:"ol"},"Place the mouse cursor over the ",(0,r.mdx)("i",{class:"fa-solid fa-ellipsis-h"}),'  next to the newly created object and click "Create Pre-Authenticated Request".\n',(0,r.mdx)("img",{alt:"Generate a Pre-Authenticated Request",src:a(74103).Z,width:"1280",height:"800"})),(0,r.mdx)("li",{parentName:"ol"},'Enter the name of the request, select Object for the request target, Permit Read on the Object for Access Type and then specify an expiration date. Click "Create Pre-Authenticated Request" when done.\n',(0,r.mdx)("img",{alt:"Enter Pre-Authenticated Request details",src:a(59402).Z,width:"1280",height:"800"})),(0,r.mdx)("li",{parentName:"ol"},"The next dialog presented contains the Pre-Authenticated Request URL. Copy the link in full. It will be required for the import process.\n",(0,r.mdx)("img",{alt:"Copy the Pre-Authenticated Request URL",src:a(30610).Z,width:"1280",height:"800"}))),(0,r.mdx)("h2",{id:"import-the-image-and-create-compute-instance"},"Import the Image and Create Compute Instance"),(0,r.mdx)("p",null,"Next, on the target tenant, create a new compute instance using the imported custom image."),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},"Click ",(0,r.mdx)("i",{class:"fa-solid fa-bars"})," ",(0,r.mdx)("i",{class:"fa-solid fa-caret-right"})," Compute ",(0,r.mdx)("i",{class:"fa-solid fa-caret-right"})," Custom Images."),(0,r.mdx)("li",{parentName:"ol"},'Click "Import Image" and enter the following information and then click "Import Image".\n',(0,r.mdx)("img",{alt:"Import the custom image",src:a(15832).Z,width:"1280",height:"800"}),(0,r.mdx)("pre",{parentName:"li"},(0,r.mdx)("code",{parentName:"pre"},"* Compartment to create a new custom image in.\n* Name of the new custom image.\n* Operating System, in this case, Linux.\n* The Object Storage Pre-Authenticated Request URL obtained earlier.\n* Select OCI for Image Type.\n"))),(0,r.mdx)("li",{parentName:"ol"},'Importing the image again takes a long time to finish. When it\'s done, the fastest path to create the instance is to click "Create Instance".\n',(0,r.mdx)("img",{alt:"Custom image import details showing progress",src:a(61761).Z,width:"1280",height:"800"})),(0,r.mdx)("li",{parentName:"ol"},"From here, creating the instance is the same as ",(0,r.mdx)("a",{parentName:"li",href:"/content/id/1904/"},"previously described"),".\n",(0,r.mdx)("img",{alt:"Create the compute instance from imported custom image",src:a(70412).Z,width:"1280",height:"800"}))),(0,r.mdx)("h2",{id:"summary"},"Summary"),(0,r.mdx)("p",null,"This looks like a lengthy process, but it's really simple to move your compute instances from one tenant to another. This might come in handy, especially when you've put in quite a bit of effort creating your compute instances during a trial. I'm just saying! ",(0,r.mdx)("i",{class:"fa-regular fa-smile-wink"}),"."),(0,r.mdx)("blockquote",null,(0,r.mdx)("u",null,"Photo Credits"),(0,r.mdx)("p",{parentName:"blockquote"},"Photo by ",(0,r.mdx)("a",{parentName:"p",href:"https://www.flickr.com/photos/19953402@N04/"},"theyounz"),"\nLicense: ",(0,r.mdx)("a",{parentName:"p",href:"https://creativecommons.org/licenses/by-nd/2.0/"},"CC BY-ND 2.0"))))}d.isMDXComponent=!0},37261:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/01-create_custom_image-bdc2f023f4846e79e60a7ca43c7298cf.png"},65144:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/02-create_custom_image-75423b5374a7c2eeacd3087bffecd172.png"},22383:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/03-create_object_storage_bucket-d5c16e2ea8d434be014ff152f7e95888.png"},97495:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/04-create_custom_image-d5c76551a30874200200373cb4a273f9.png"},90386:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/05-export_custom_image-fa7ab0ace92262aa4a510e225c20f167.png"},74103:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/06-generate_preauthenticated_request-949464b30fdc916bc04270c2c3083f7b.png"},59402:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/07-generate_preauthenticated_request-f76c8c58f74b9dfbb9050214c0501670.png"},30610:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/08-generate_preauthenticated_request-64d12719a1925bc92524a593bacfc837.png"},15832:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/09-import_custom_image-fc6ffbbdbf6cb338dbe827d5a71ef2bf.png"},61761:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/10-import_custom_image-ffdf037fcbed5fc5f1716b2e3f3d9c36.png"},70412:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/11-create_compute_from_custom_image-81891465e5e65d8aa82eddf5991943cd.png"},40404:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/moving_houses_1280x720-53d5092d7e20debf9b6fc95f3aa9b755.jpg"}}]);