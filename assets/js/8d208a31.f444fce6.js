"use strict";(self.webpackChunknewsite=self.webpackChunknewsite||[]).push([[33672],{3905:(e,t,a)=>{a.r(t),a.d(t,{MDXContext:()=>c,MDXProvider:()=>u,mdx:()=>f,useMDXComponents:()=>d,withMDXComponents:()=>p});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var c=n.createContext({}),p=function(e){return function(t){var a=d(t.components);return n.createElement(e,r({},t,{components:a}))}},d=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=d(e.components);return n.createElement(c.Provider,{value:t},e.children)},m="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=d(a),u=o,m=p["".concat(s,".").concat(u)]||p[u]||h[u]||r;return a?n.createElement(m,i(i({ref:t},c),{},{components:a})):n.createElement(m,i({ref:t},c))}));function f(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,s=new Array(r);s[0]=g;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[m]="string"==typeof e?e:o,s[1]=i;for(var c=2;c<r;c++)s[c]=a[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}g.displayName="MDXCreateElement"},23034:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>c});var n=a(87462),o=(a(67294),a(3905));const r={title:"Autonomous DB - The Developers' Playground",tags:["oracle","cloud","oci","orclapex","autonomous","alwaysfree"],slug:"id/1919",authors:["fuzziebrain"],categories:["Technology","Infrastructure","Oracle Cloud"],date:new Date("2019-09-22T15:43:59.000Z")},s=void 0,i={permalink:"/content/id/1919",source:"@site/posts/autonomous-db-the-developers-playground/index.md",title:"Autonomous DB - The Developers' Playground",description:"Kids&apos; Playground",date:"2019-09-22T15:43:59.000Z",formattedDate:"September 22, 2019",tags:[{label:"oracle",permalink:"/content/tags/oracle"},{label:"cloud",permalink:"/content/tags/cloud"},{label:"oci",permalink:"/content/tags/oci"},{label:"orclapex",permalink:"/content/tags/orclapex"},{label:"autonomous",permalink:"/content/tags/autonomous"},{label:"alwaysfree",permalink:"/content/tags/alwaysfree"}],readingTime:5.825,hasTruncateMarker:!0,authors:[{name:"Adrian Png",title:"Senior Cloud Solutions Architect @ Insum",url:"https://github.com/fuzziebrain",imageURL:"https://github.com/fuzziebrain.png",key:"fuzziebrain"}],frontMatter:{title:"Autonomous DB - The Developers' Playground",tags:["oracle","cloud","oci","orclapex","autonomous","alwaysfree"],slug:"id/1919",authors:["fuzziebrain"],categories:["Technology","Infrastructure","Oracle Cloud"],date:"2019-09-22T15:43:59.000Z"},prevItem:{title:"Making the Move to the Autonomous Database",permalink:"/content/id/1920"},nextItem:{title:"That One Thing",permalink:"/content/id/1918"}},l={authorsImageUrls:[void 0]},c=[{value:"Workspace Authentication with Database Accounts",id:"workspace-authentication-with-database-accounts",level:2},{value:"SQL Developer Web",id:"sql-developer-web",level:3},{value:"Oracle ML SQL Notebooks",id:"oracle-ml-sql-notebooks",level:3}],p={toc:c};function d(e){let{components:t,...r}=e;return(0,o.mdx)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,o.mdx)("p",null,(0,o.mdx)("img",{alt:"Kids&#39; Playground",src:a(39864).Z,width:"1280",height:"720"})),(0,o.mdx)("p",null,"As mentioned in a previous ",(0,o.mdx)("a",{parentName:"p",href:"/content/id/1919/"},"post"),", the ",(0,o.mdx)("a",{parentName:"p",href:"https://oracle.com/cloud/free/"},"Free Tier")," for ",(0,o.mdx)("a",{parentName:"p",href:"https://cloud.oracle.com"},"Oracle Cloud")," (OCI) is every Oracle Developer's dream. For a while now, I have hosted a personal ",(0,o.mdx)("a",{parentName:"p",href:"https://apex.oracle.com"},"Oracle Application Express")," (APEX) instance on Linode. It currently runs an older Oracle Database 11gR2 ",(0,o.mdx)("a",{parentName:"p",href:"https://oracle.com/xe/"},"Express Edition")," (XE), and I would like to upgrade it to version 18c. The key issue I had though, was that the existing virtual machine hosted on ",(0,o.mdx)("a",{parentName:"p",href:"https://www.linode.com/?r=41672b20d515344de465e9ed44c1a75356445597"},"Linode"),", only has one gigabyte of RAM and that does not meet the 18c XE minimum requirement of two. That left me procrastinating for a long time, but perhaps a blessing in disguise. With this new offering, the next steps are pretty obvious."),(0,o.mdx)("p",null,"After ",(0,o.mdx)("a",{parentName:"p",href:"/content/id/1918/"},"setting up")," my new OCI development environment, the next task I looked into was exporting an existing workspace, and then importing it into the new APEX instance, hosted on an ",(0,o.mdx)("a",{parentName:"p",href:"https://www.oracle.com/database/what-is-autonomous-database.html"},"Autonomous Database")," (ADB). During the import process, the you will be asked to either assign an existing schema or create a new one. If you are using an exsiting schema, be sure to include the necessary database privileges for an APEX parsing schema. This all went pretty much as expected, very smoothly!"),(0,o.mdx)("p",null,'However, my workspace did not have an Application Express user, commonly called "admin" (ADMIN), that had workspace access and administrative rights. Hence, I was unable to login to the migrated workspace.'),(0,o.mdx)("p",null,"APEX in ADB is configured to use database user accounts for workspace access. Similar to configuring the workspace access with LDAP, HTTP Header Variable or Social Sign In authentication schemes, a matching Application Express user is required. If your workspace user matches up with a database user, then that user should have no troubles logging in. This user assumes whatever rights the equivalent Application Express user has been granted."),(0,o.mdx)("p",null,"Suppose I have the following:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("strong",{parentName:"li"},"Workspace"),": myworkspace"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("strong",{parentName:"li"},"Schema"),": myschema"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("strong",{parentName:"li"},"Administrator's username"),": jdoe")),(0,o.mdx)("p",null,"To allow JDOE access to the workspace, create a database user with the same name. Do this using either SQL Developer, SQL*PLus or SQLcl. Instructions to connect to the ADB can be found ",(0,o.mdx)("a",{parentName:"p",href:"https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/user/connect-tools.html"},"here"),". Login as ADMIN, the administrator account created when the ADB was provisioned."),(0,o.mdx)("p",null,"Once connected, execute the command:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-sql"},'create user jdoe identified by "mySuper!P@55";\n')),(0,o.mdx)("p",null,"For the purpose of authenticating to APEX, no specific privileges or quota's are necessary. Login to the workspace using the workspace and database user's credentials."),(0,o.mdx)("p",null,(0,o.mdx)("img",{alt:"Set APEX account password",src:a(2736).Z,width:"1280",height:"800"})),(0,o.mdx)("p",null,"The Application Express account with the same username will need to have its password reset. If this is not done, you will continually be prompted to do so. Strangely, clicking on that big blue button and then using the password change dialog does not seem to perform this successfully for me. What worked was using the user and group management utilities and then forced setting the user's password."),(0,o.mdx)("p",null,"Alternatively, before exporting the workspace, create an APEX workspace administrator with the same username as its schema, e.g. MYSCHEMA. Note that the ADB's APEX Instance Administration functionality is severely limited and does not appear to allow management of workspace users and groups, so the user must be added from the old instance."),(0,o.mdx)("h2",{id:"workspace-authentication-with-database-accounts"},"Workspace Authentication with Database Accounts"),(0,o.mdx)("p",null,"How Oracle has laid out the approach for managing the APEX environment is limiting, but for good reason. It also does present a different perspective on how an administrator manages developer access to the resource."),(0,o.mdx)("p",null,"We know that with ADB, we have access to a variety of tools for using the dataabase:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"APEX"),(0,o.mdx)("li",{parentName:"ul"},"SQL Developer Web (SQLDEVWEB)"),(0,o.mdx)("li",{parentName:"ul"},"Oracle ML SQL Notebooks (OML)"),(0,o.mdx)("li",{parentName:"ul"},"SQL Developer (SQLDEV)"),(0,o.mdx)("li",{parentName:"ul"},"SQLcl"),(0,o.mdx)("li",{parentName:"ul"},"Oracle REST Data Services (ORDS); and"),(0,o.mdx)("li",{parentName:"ul"},"Traditional connectors like OCI, JDBC and ODBC.")),(0,o.mdx)("p",null,"An indispensible item in an APEX developer toolchain is access to the database schema. The ability to browse, modify and compile schema objects are an essential part of what we do. Depending on company policies and best practices, there are varying access levels and approaches. For example, workspaces available on apex.oracle.com, only allows developers to access the database schema through SQL Workshop. I'm sure you'd agree, this impacts developer productivity. "),(0,o.mdx)("p",null,"For corporate APEX instances however, it's not uncommon for database administrators to dish out the schema credentials to developers, either in the form of usernames and passwords, or an encrypted SQLDEV connnection export file. But what happens when the password expires, or one of the developers decide to change the it?"),(0,o.mdx)("p",null,"One approach I'm inclined to use these days is to create for developers, a personal account, and then grant them ability to proxy as the APEX schema user."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-sql"},"-- As a privileged user, execute:\nalter user myschema grant connect through jdoe;\n")),(0,o.mdx)("p",null,"In the context of APEX+ADB, here are some examples of how we could benefit from this approach:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"JDOE uses ",(0,o.mdx)("strong",{parentName:"li"},"one")," account to access APEX App Builder and workspace schema user using the tool of choice. For example, JDOE could connect to the database as MYSCHEMA by simply authenticating using the username ",(0,o.mdx)("inlineCode",{parentName:"li"},"jdoe[myschema]")," and logon with his/her password."),(0,o.mdx)("li",{parentName:"ul"},"DBAs can, through profiles, apply standards like password expiration and complexity. When a developer leaves the organisation, there is no need to reset the schema password and communicate that to everyone else involved.")),(0,o.mdx)("h3",{id:"sql-developer-web"},"SQL Developer Web"),(0,o.mdx)("p",null,"To enable access to a schema, it must first be REST-enabled. For schemas linked to APEX workspaces, one option is to use the RESTful Services utility. For other schemas though, the ",(0,o.mdx)("a",{parentName:"p",href:"https://docs.oracle.com/en/database/oracle/sql-developer-web/19.1/sdweb/about-sdw.html#GUID-A79032C3-86DC-4547-8D39-85674334B4FE"},"official documentation")," dictates that we execute the procedure ",(0,o.mdx)("inlineCode",{parentName:"p"},"ords_admin.enable_schema"),", for example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-sql"},"begin\n  ords_admin.enable_schema(\n    p_enabled => true\n    , p_schema => 'JDOE'\n    , p_url_mapping_type => 'BASE_PATH'\n    , p_url_mapping_pattern => 'jdoe'\n    , p_auto_rest_auth => null\n  );\n  \n  commit;\nend;\n")),(0,o.mdx)("p",null,"To access SQLDEVWEB, JDOE would have to use the URL in the following pattern:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre"},"https://<TENANT_CODE>-<ADB_NAME>.adb.<REGION_ID>.oraclecloudapps.com/ords/<SCHEMA_ALIAS>/_sdw/?nav=worksheet\n")),(0,o.mdx)("blockquote",null,(0,o.mdx)("p",{parentName:"blockquote"},(0,o.mdx)("em",{parentName:"p"},"where")),(0,o.mdx)("ul",{parentName:"blockquote"},(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"<TENANT_CODE>")," - a random string assigned to all ADB resources in the tenant. This can be easily obtained using the links in the Service Console."),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"<ADB_NAME>")," - the ADB's database name."),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"<REGION_ID>")," - the ",(0,o.mdx)("a",{parentName:"li",href:"https://docs.cloud.oracle.com/iaas/Content/General/Concepts/regions.htm"},"region")," identifier where the ADB instance was created in."),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"<SCHEMA>")," - the value specified in ",(0,o.mdx)("inlineCode",{parentName:"li"},"p_url_mapping_pattern")," above."))),(0,o.mdx)("p",null,"Unfortunately, it appears that SQLDEVWEB currently does not support proxy user access. Hopefully this would be possible in the future."),(0,o.mdx)("h3",{id:"oracle-ml-sql-notebooks"},"Oracle ML SQL Notebooks"),(0,o.mdx)("p",null,"I haven't done a lot with this tool, but if you are familiar with ",(0,o.mdx)("a",{parentName:"p",href:"https://jupyter.org/"},"Jupyter"),", it sounds very similar, just seemingly SQL-centric, designed for data analytics and a means to keep good records of data processing workflows."),(0,o.mdx)("p",null,"Enabling database accounts access to OML is pretty simple and straightforward. Either enable users through OML as ADMIN, or grant users the role ",(0,o.mdx)("inlineCode",{parentName:"p"},"OML_DEVELOPER"),". OML users are provisioned personal workspaces that they could then grant other developers access to. One scenario in how this might be useful, is for MYSCHEMA to grant JDOE access to its workspace for running analytics and visualization code that had been collected through an APEX application."),(0,o.mdx)("p",null,"All these is cool isn't? And it's just the beginning!"))}d.isMDXComponent=!0},39864:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/playground-470402_1280x720-d2d15443cc0c8e3630c00eae8e8feca2.jpg"},2736:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/set-apex-account-password-515bdaf8576cd01a2ce22e2057e96f4e.png"}}]);