"use strict";(self.webpackChunknewsite=self.webpackChunknewsite||[]).push([[19038],{3905:(e,t,a)=>{a.r(t),a.d(t,{MDXContext:()=>s,MDXProvider:()=>p,mdx:()=>x,useMDXComponents:()=>m,withMDXComponents:()=>d});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o.apply(this,arguments)}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),d=function(e){return function(t){var a=m(t.components);return r.createElement(e,o({},t,{components:a}))}},m=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=m(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,i=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),d=m(a),p=n,u=d["".concat(i,".").concat(p)]||d[p]||h[p]||o;return a?r.createElement(u,l(l({ref:t},s),{},{components:a})):r.createElement(u,l({ref:t},s))}));function x(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=f;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[u]="string"==typeof e?e:n,i[1]=l;for(var s=2;s<o;s++)i[s]=a[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}f.displayName="MDXCreateElement"},5774:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var r=a(87462),n=(a(67294),a(3905));const o={title:"Day 15 - 30 Days on the Oracle Cloud",tags:["oracle","cloud","oci","IaaS","infrastructure","devops","virtualbox"],slug:"id/1907",authors:["fuzziebrain"],categories:["Technology","Infrastructure","Oracle Cloud"],date:new Date("2019-03-13T21:00:00.000Z")},i=void 0,l={permalink:"/content/id/1907",source:"@site/posts/day-15-30-days-on-the-oracle-cloud/index.md",title:"Day 15 - 30 Days on the Oracle Cloud",description:"Photo by Genty",date:"2019-03-13T21:00:00.000Z",formattedDate:"March 13, 2019",tags:[{label:"oracle",permalink:"/content/tags/oracle"},{label:"cloud",permalink:"/content/tags/cloud"},{label:"oci",permalink:"/content/tags/oci"},{label:"IaaS",permalink:"/content/tags/iaa-s"},{label:"infrastructure",permalink:"/content/tags/infrastructure"},{label:"devops",permalink:"/content/tags/devops"},{label:"virtualbox",permalink:"/content/tags/virtualbox"}],readingTime:4.26,hasTruncateMarker:!0,authors:[{name:"Adrian Png",title:"Senior Cloud Solutions Architect @ Insum",url:"https://github.com/fuzziebrain",imageURL:"https://github.com/fuzziebrain.png",key:"fuzziebrain"}],frontMatter:{title:"Day 15 - 30 Days on the Oracle Cloud",tags:["oracle","cloud","oci","IaaS","infrastructure","devops","virtualbox"],slug:"id/1907",authors:["fuzziebrain"],categories:["Technology","Infrastructure","Oracle Cloud"],date:"2019-03-13T21:00:00.000Z"},prevItem:{title:"Social Sign In with Azure",permalink:"/content/id/1908"},nextItem:{title:"Day 11 - 30 Days on the Oracle Cloud",permalink:"/content/id/1906"}},c={authorsImageUrls:[void 0]},s=[{value:"In a Nutshell",id:"in-a-nutshell",level:2},{value:"Preparing OCI - Compartments and Networks",id:"preparing-oci---compartments-and-networks",level:2},{value:"Create OCI User and Generate API Key",id:"create-oci-user-and-generate-api-key",level:2},{value:"Create a Bucket on the Object Store",id:"create-a-bucket-on-the-object-store",level:2},{value:"Add a Cloud Profile",id:"add-a-cloud-profile",level:2},{value:"Deploy a VM to the Cloud",id:"deploy-a-vm-to-the-cloud",level:2},{value:"What Next?",id:"what-next",level:2}],d={toc:s};function m(e){let{components:t,...o}=e;return(0,n.mdx)("wrapper",(0,r.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,n.mdx)("p",null,(0,n.mdx)("img",{alt:"Photo by Genty",src:a(59585).Z,width:"1280",height:"720"})),(0,n.mdx)("p",null,"One of my fondest memories of my previous job was working with ",(0,n.mdx)("a",{parentName:"p",href:"https://www.vmware.com"},"VMware"),' virtualization products. With VMware Workstation, system administrators had the ability to "move" a virtual machine (VM) from a local workstation to vSphere. It was no surprise then that I was very exited (and itching to play) when ',(0,n.mdx)("a",{parentName:"p",href:"https://www.virtualbox.org"},"VirtualBox")," 6.0 was released with a new feature: support for exporting a VM to ",(0,n.mdx)("a",{parentName:"p",href:"https://cloud.oracle.com/iaas/"},"Oracle Cloud Infrastructure (OCI)"),"!"),(0,n.mdx)("h2",{id:"in-a-nutshell"},"In a Nutshell"),(0,n.mdx)("p",null,"Here are major tasks that we need to accomplish:"),(0,n.mdx)("ol",null,(0,n.mdx)("li",{parentName:"ol"},(0,n.mdx)("a",{parentName:"li",href:"#Preparing-OCI-Compartments-and-Networks"},"Prepare OCI to receive our VM")),(0,n.mdx)("li",{parentName:"ol"},(0,n.mdx)("a",{parentName:"li",href:"#Create-OCI-User-and-Generate-API-Key"},"Create an OCI user and generate an API key")),(0,n.mdx)("li",{parentName:"ol"},(0,n.mdx)("a",{parentName:"li",href:"#Create-a-Bucket-on-the-Object-Store"},"Create a Bucket in the Object Store")),(0,n.mdx)("li",{parentName:"ol"},(0,n.mdx)("a",{parentName:"li",href:"#Add-a-Cloud-Profile"},"Configure VirtualBox 6, add a Cloud Profile")),(0,n.mdx)("li",{parentName:"ol"},(0,n.mdx)("a",{parentName:"li",href:"#Deploy-a-VM-to-the-Cloud"},"Deploy a VM to the OCI"))),(0,n.mdx)("blockquote",null,(0,n.mdx)("p",{parentName:"blockquote"},"All tasks were performed in a Windows environment.")),(0,n.mdx)("h2",{id:"preparing-oci---compartments-and-networks"},"Preparing OCI - Compartments and Networks"),(0,n.mdx)("p",null,"On ",(0,n.mdx)("a",{parentName:"p",href:"/content/id/1904"},"Day 2 of our journey"),", we went through some of the steps needed to successfully deploy a Compute Instance (VM). Follow the instructions to create a compartment and the required network components, but ",(0,n.mdx)("strong",{parentName:"p"},"do not"),' create the Compute Instance. One cool feature I failed to mention in that article though, was the "easy option". I had gone through step-by-step, how to create the Virtual Cloud Network (VCN), subnets, an Internet Gateway and a Route Table, which is important should you need to customise the network layout. However, the OCI does offer us a simple alternative:'),(0,n.mdx)("p",null,(0,n.mdx)("img",{alt:"Quick VCN Setup",src:a(70960).Z,width:"1280",height:"800"})),(0,n.mdx)("p",null,"Selecting the option ",(0,n.mdx)("em",{parentName:"p"},"CREATE VIRTUAL CLOUD NETWORK PLUS RELATED RESOURCES")," will automatically create the VCN, an Internet Gateway, a Route Table and three public subnets, with one in every Availability Domain."),(0,n.mdx)("h2",{id:"create-oci-user-and-generate-api-key"},"Create OCI User and Generate API Key"),(0,n.mdx)("blockquote",null,(0,n.mdx)("p",{parentName:"blockquote"},"An ",(0,n.mdx)("a",{parentName:"p",href:"https://www.oracle.com/cloud/paas/identity-cloud-service.html"},"Oracle Identity Cloud Service (IDCS)")," account is provisioned when a cloud account is created. Adding API keys to IDCS users follows a different path and will not be discussed here. We will instead, create an OCI user for deploying VMs to the cloud.")),(0,n.mdx)("ol",null,(0,n.mdx)("li",{parentName:"ol"},"Click {% fa bars %} {% fa caret-right %} Identity {% fa caret-right %} Users"),(0,n.mdx)("li",{parentName:"ol"},"Click ",(0,n.mdx)("em",{parentName:"li"},"Create User")," and enter:",(0,n.mdx)("pre",{parentName:"li"},(0,n.mdx)("code",{parentName:"pre"},"* **NAME**: *Desired username*\n* **DESCRIPTION**: *User's full name*\n* **Email**: *Email address for recovery*\n")),(0,n.mdx)("img",{alt:"\xa0",src:a(26888).Z,width:"1280",height:"800"})),(0,n.mdx)("li",{parentName:"ol"},"Click on the username of the new user created."),(0,n.mdx)("li",{parentName:"ol"},"Optionally, click on ",(0,n.mdx)("em",{parentName:"li"},"Create/Reset Password")," to generate a single-use password.")),(0,n.mdx)("p",null,"Next, setup your workstation to work with OCI APIs."),(0,n.mdx)("p",null,"Please follow the instructions ",(0,n.mdx)("a",{parentName:"p",href:"https://docs.cloud.oracle.com/iaas/Content/API/Concepts/apisigningkey.htm"},"here")," to obtain the necessary keys and OCIDs. The artifact and values needed are documented on this ",(0,n.mdx)("a",{parentName:"p",href:"https://docs.cloud.oracle.com/iaas/Content/API/Concepts/sdkconfig.htm"},"page"),". To summarise, here's what's needed:"),(0,n.mdx)("ol",null,(0,n.mdx)("li",{parentName:"ol"},"On Windows, please install ",(0,n.mdx)("a",{parentName:"li",href:"https://git-scm.com/download/win"},"Git Bash"),". On Linux, most of the tools and commands are already available in the operating system."),(0,n.mdx)("li",{parentName:"ol"},"Create the directory ",(0,n.mdx)("inlineCode",{parentName:"li"},"~/.oci")," that stores the private key, and for the various SDKs available, a configuration file."),(0,n.mdx)("li",{parentName:"ol"},"Generate a private key and its corresponding public key in PEM format."),(0,n.mdx)("li",{parentName:"ol"},"Grab the contents of the public key and add this to the OCI user account's collection of API Keys.\n",(0,n.mdx)("img",{alt:"\xa0",src:a(46376).Z,width:"1280",height:"800"})),(0,n.mdx)("li",{parentName:"ol"},"Copy the fingerprint from OCI console.\n",(0,n.mdx)("img",{alt:"\xa0",src:a(68343).Z,width:"1280",height:"800"})),(0,n.mdx)("li",{parentName:"ol"},"Obtain the OCID values from the OCI console."),(0,n.mdx)("li",{parentName:"ol"},"Decide which region to deploy the server.")),(0,n.mdx)("h2",{id:"create-a-bucket-on-the-object-store"},"Create a Bucket on the Object Store"),(0,n.mdx)("ol",null,(0,n.mdx)("li",{parentName:"ol"},"Click {% fa bars %} {% fa caret-right %} Object Storage {% fa caret-right %} Object Storage"),(0,n.mdx)("li",{parentName:"ol"},"Click the ",(0,n.mdx)("em",{parentName:"li"},"Create Bucket")," button."),(0,n.mdx)("li",{parentName:"ol"},"Enter a ",(0,n.mdx)("em",{parentName:"li"},"Bucket Name")," and choose ",(0,n.mdx)("em",{parentName:"li"},"Standard")," for the ",(0,n.mdx)("em",{parentName:"li"},"Storage Tier"),". Click the ",(0,n.mdx)("em",{parentName:"li"},"Create Bucket")," button when done.\n",(0,n.mdx)("img",{src:a(80435).Z,width:"1280",height:"800"}))),(0,n.mdx)("h2",{id:"add-a-cloud-profile"},"Add a Cloud Profile"),(0,n.mdx)("ol",null,(0,n.mdx)("li",{parentName:"ol"},"Launch VirtualBox 6."),(0,n.mdx)("li",{parentName:"ol"},"Click File {% fa caret-right %} Cloud Profile Manager"),(0,n.mdx)("li",{parentName:"ol"},"Click the ",(0,n.mdx)("em",{parentName:"li"},"Add")," button and enter a profile name."),(0,n.mdx)("li",{parentName:"ol"},"Enter the required OCIDs and values relating to the API key. Be sure to hit ",(0,n.mdx)("em",{parentName:"li"},"Apply")," when done!\n",(0,n.mdx)("img",{src:a(17220).Z,width:"1282",height:"801"}))),(0,n.mdx)("h2",{id:"deploy-a-vm-to-the-cloud"},"Deploy a VM to the Cloud"),(0,n.mdx)("ol",null,(0,n.mdx)("li",{parentName:"ol"},"Click File {% fa caret-right %} Export Appliance"),(0,n.mdx)("li",{parentName:"ol"},"Select the VM to export and then click ",(0,n.mdx)("em",{parentName:"li"},"Next"),"."),(0,n.mdx)("li",{parentName:"ol"},"For ",(0,n.mdx)("em",{parentName:"li"},"Format"),", select ",(0,n.mdx)("em",{parentName:"li"},"Oracle Cloud Infrastructure")," and then select the ",(0,n.mdx)("em",{parentName:"li"},"Account")," that you wish to deploy the VM to.\n",(0,n.mdx)("img",{alt:"\xa0",src:a(9590).Z,width:"742",height:"579"})),(0,n.mdx)("li",{parentName:"ol"},"Click ",(0,n.mdx)("em",{parentName:"li"},"Next"),". Using the private key and other information provided in the selected ",(0,n.mdx)("em",{parentName:"li"},"Cloud Profile"),", VirtualBox will call the OCI APIs to retrieve information and available resource selections for the target Compute Instance. You may change the name of the new Compute Instance, select a different instance Shape or specify a disk size etc.\n",(0,n.mdx)("img",{alt:"\xa0",src:a(42688).Z,width:"742",height:"579"}))),(0,n.mdx)("p",null,"When ready, click the ",(0,n.mdx)("em",{parentName:"p"},"Export")," button and VirtualBox will first export the VM as an image and then upload it to the target Object Store Bucket. Once the upload process is completed - and it can take a very long time - the OCI will create the instance from the image and voila! Like magic!"),(0,n.mdx)("p",null,(0,n.mdx)("img",{alt:"In the Final Stages!",src:a(47013).Z,width:"1280",height:"800"})),(0,n.mdx)("h2",{id:"what-next"},"What Next?"),(0,n.mdx)("p",null,"For this simple proof-of-concept, I had created a base Oracle Enterprise Linux 7 using ",(0,n.mdx)("a",{parentName:"p",href:"https://www.vagrantup.com/"},"Vagrant")," without putting anything much on it except the necessary user accounts so that I can access the Compute Instance later. This approach can be used, for example, to install and configure a full ",(0,n.mdx)("a",{parentName:"p",href:"https://apex.oracle.com"},"Oracle Application Express (APEX)")," stack in VirtualBox, using either ",(0,n.mdx)("a",{parentName:"p",href:"https://github.com/OraOpenSource/OXAR"},"OXAR")," or more recently, ",(0,n.mdx)("a",{parentName:"p",href:"/content/id/1902"},"helper scripts")," for ",(0,n.mdx)("a",{parentName:"p",href:"https://www.docker.com"},"Docker"),"."))}m.isMDXComponent=!0},46376:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/oci-add-pub-key-db8c61385b4c61bc7e93fd19e5c48949.png"},68343:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/oci-api-key-fingerprint-63734bb3da27594c65d4fa797118fe2d.png"},47013:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/oci-compute-instance-provisioning-f223485b7197179a4ca80fc28bd4dbb4.png"},80435:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/oci-create-bucket-35a7bce027070728eecfa49ca281850c.png"},26888:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/oci-create-user-a84d470932dc26aca0df988f60f32388.png"},70960:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/oci-vcn-simple-bb6e01125e662bd4d3a7335606286f14.png"},17220:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/vbox-cloud-profile-600490ab7bfafe5cb24c5998d8077bc5.jpg"},42688:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/vbox-compute-instance-configuration-8333176ac7a8b21b37679a4c4dd66823.jpg"},9590:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/vbox-export-appliance-oci-8997582c37df7123aef549e66a114edf.jpg"},59585:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/wormhole-2514312_1280x720-53690bc18ffed4935f654fbaa1da4ae9.jpg"}}]);