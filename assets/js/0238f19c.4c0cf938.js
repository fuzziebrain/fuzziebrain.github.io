"use strict";(self.webpackChunknewsite=self.webpackChunknewsite||[]).push([[46674],{24398:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var i=t(85893),o=t(11151);const r={title:"APEX and the Affordable Cloud!",date:new Date("2017-03-04T11:28:18.000Z"),slug:"id/cizx69jya000ra0pvv26u3cez",authors:["fuzziebrain"],tags:["orclapex","oxar","cloud","hosting","vagrant","devops","linode"],categories:["Technology","Programming","Oracle Application Express"]},a=void 0,s={permalink:"/content/id/cizx69jya000ra0pvv26u3cez",source:"@site/posts/apex-and-the-affordable-cloud/index.md",title:"APEX and the Affordable Cloud!",description:"Rivadeneira by Cesar Lopez",date:"2017-03-04T11:28:18.000Z",formattedDate:"March 4, 2017",tags:[{label:"orclapex",permalink:"/content/tags/orclapex"},{label:"oxar",permalink:"/content/tags/oxar"},{label:"cloud",permalink:"/content/tags/cloud"},{label:"hosting",permalink:"/content/tags/hosting"},{label:"vagrant",permalink:"/content/tags/vagrant"},{label:"devops",permalink:"/content/tags/devops"},{label:"linode",permalink:"/content/tags/linode"}],readingTime:3.025,hasTruncateMarker:!0,authors:[{name:"Adrian Png",title:"Senior Cloud Solutions Architect @ Insum",url:"https://github.com/fuzziebrain",imageURL:"https://github.com/fuzziebrain.png",key:"fuzziebrain"}],frontMatter:{title:"APEX and the Affordable Cloud!",date:"2017-03-04T11:28:18.000Z",slug:"id/cizx69jya000ra0pvv26u3cez",authors:["fuzziebrain"],tags:["orclapex","oxar","cloud","hosting","vagrant","devops","linode"],categories:["Technology","Programming","Oracle Application Express"]},unlisted:!1,prevItem:{title:"San Antonio Revisited",permalink:"/content/id/1702"},nextItem:{title:"Hexo - Blogging Without Disks",permalink:"/content/id/cizx69jyk0015a0pvten1mngo"}},l={authorsImageUrls:[void 0]},d=[{value:"Before We Begin",id:"before-we-begin",level:2},{value:"OS Support",id:"os-support",level:3},{value:"Linode",id:"linode",level:2},{value:"Install the Linode Provider Plugin",id:"install-the-linode-provider-plugin",level:2},{value:"Prepare the Vagrantfile",id:"prepare-the-vagrantfile",level:2},{value:"Synced Folders",id:"synced-folders",level:3},{value:"Configure the Linode Provider",id:"configure-the-linode-provider",level:3},{value:"Set the Timezone",id:"set-the-timezone",level:3},{value:"Linode API Key",id:"linode-api-key",level:2},{value:"Deploy",id:"deploy",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Rivadeneira by Cesar Lopez",src:t(83381).Z+"",width:"1280",height:"853"})}),"\n",(0,i.jsxs)(n.p,{children:["Love ",(0,i.jsx)(n.a,{href:"https://apex.oracle.com/",children:"Oracle Application Express"})," (APEX), but having trouble finding a decent, affordable home for your killer application? Here's one option you can consider that should not burn your wallet."]}),"\n",(0,i.jsx)(n.h2,{id:"before-we-begin",children:"Before We Begin"}),"\n",(0,i.jsx)(n.p,{children:"The following guide assumes the following:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.vagrantup.com/",children:"Vagrant"})," installed. The version I used for this article was 1.9.2."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/OraOpenSource/OXAR",children:"OXAR"})," cloned."]}),"\n",(0,i.jsxs)(n.li,{children:["Installation files required by OXAR have been downloaded and made available as a web resource. One option is to upload the files to ",(0,i.jsx)(n.a,{href:"https://www.dropbox.com/",children:"Dropbox"})," and then create a ",(0,i.jsx)(n.a,{href:"https://www.dropbox.com/en/help/167",children:"shared link"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.code,{children:"config.properties"})," files is customized to requirements. The file URLs should point to the relevant installation files as per ",(0,i.jsx)(n.a,{href:"https://github.com/OraOpenSource/OXAR/blob/master/README.md",children:"OXAR instructions"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["SSH keys generated. If not execute the command: ",(0,i.jsx)(n.code,{children:"ssh-keygen"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"All commands are executed from the project's root directory."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"os-support",children:"OS Support"}),"\n",(0,i.jsx)(n.p,{children:"At this time, I have only been able to demonstrate the remote build using Linux, though I believe Mac users should not have any problems doing the same. I will update or write a new post when I am able to accomplish the same tasks in Windows."}),"\n",(0,i.jsx)(n.h2,{id:"linode",children:"Linode"}),"\n",(0,i.jsxs)(n.p,{children:["Sign up for an account with ",(0,i.jsx)(n.a,{href:"https://www.linode.com/?r=41672b20d515344de465e9ed44c1a75356445597",children:"Linode"}),". The smallest-sized Linode that you can create has sufficient resources to get a basic OXAR node running. Available to you at an affordable monthly fee of ",(0,i.jsx)(n.strong,{children:"USD 5"}),", it's probably as good as it gets!"]}),"\n",(0,i.jsx)(n.h2,{id:"install-the-linode-provider-plugin",children:"Install the Linode Provider Plugin"}),"\n",(0,i.jsxs)(n.p,{children:["Execute:\n",(0,i.jsx)(n.code,{children:"vagrant plugin install vagrant-linode"})]}),"\n",(0,i.jsx)(n.h2,{id:"prepare-the-vagrantfile",children:"Prepare the Vagrantfile"}),"\n",(0,i.jsx)(n.h3,{id:"synced-folders",children:"Synced Folders"}),"\n",(0,i.jsxs)(n.p,{children:["Force Vagrant to sync files using ",(0,i.jsx)(n.code,{children:"rsync"}),", otherwise Vagrant might attempt to use NFS and the process will most likely fail as it did for me initially."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'  config.vm.synced_folder ".", "/vagrant", type: "rsync"\n    , rsync__exclude: [".git/", ".vagrant/"]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"configure-the-linode-provider",children:"Configure the Linode Provider"}),"\n",(0,i.jsx)(n.p,{children:"Add the Linode provider block:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"config.vm.provider :linode do |provider, override|\n  override.ssh.private_key_path = '~/.ssh/id_rsa'\n\n  provider.api_key = '<LINODE API KEY>'\n  provider.label = '<LABEL FOR LINODE>'\n  provider.distribution = 'CentOS 7'\n  provider.datacenter = '<DATACENTER>'\n  provider.planid = <PLAN ID>\nend\n"})}),"\n",(0,i.jsxs)(n.p,{children:["A list of valid Plan IDs and data centers can be obtained from the Linode Vagrant Provider plugin ",(0,i.jsx)(n.a,{href:"https://github.com/displague/vagrant-linode/blob/master/README.md",children:"documentation"}),". Note that Plan ID is probably enough for a start."]}),"\n",(0,i.jsx)(n.h3,{id:"set-the-timezone",children:"Set the Timezone"}),"\n",(0,i.jsxs)(n.p,{children:["During my first build, I encountered issues with ORDS not installing correctly because Java was not able to recognize the system's timezone correctly, similar to what had previously been ",(0,i.jsx)(n.a,{href:"https://github.com/OraOpenSource/OXAR/issues/194",children:"reported"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["The Centos 7 image provisioned by Linode has the timezone set to UTC and that seems to be problem. The workaround for me was to set the timezone prior to calling OXAR's ",(0,i.jsx)(n.code,{children:"build.sh"})," script. This is done towards the end of the ",(0,i.jsx)(n.code,{children:"Vagrantfile"}),", within the SHELL sub-section. Probably something that we should consider adding to the main OXAR build process."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"    ...\n\n    rsync -rtv --exclude='files' --exclude='.*' /vagrant/ /tmp/vagrant-deploy\n\n    cd /tmp/vagrant-deploy\n\n    # Set the timezone\n    timedatectl set-timezone America/Vancouver\n\n    ./build.sh\n  SHELL\nend\n"})}),"\n",(0,i.jsxs)(n.p,{children:["To get a list of valid timezones, execute the command ",(0,i.jsx)(n.code,{children:"timedatectl list-timezones"})," on a similar Centos 7 instance."]}),"\n",(0,i.jsx)(n.h2,{id:"linode-api-key",children:"Linode API Key"}),"\n",(0,i.jsx)(n.p,{children:'Login to your Linode account and then click on "my profile", found on the top-right corner of the page. Provide your password again when prompted. This will allow you access to the API Keys sub-page.'}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Create an API Key",src:t(56540).Z+"",width:"1015",height:"447"})}),"\n",(0,i.jsx)(n.p,{children:"Create a new key. I strongly recommend using a suitable label and setting an expiry date for the generated key."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Note the API Key",src:t(4383).Z+"",width:"1016",height:"535"})}),"\n",(0,i.jsxs)(n.p,{children:["Copy and past the API key into the ",(0,i.jsx)(n.code,{children:"Vagrantfile"}),". As warned, the key will only be displayed once!"]}),"\n",(0,i.jsx)(n.h2,{id:"deploy",children:"Deploy"}),"\n",(0,i.jsx)(n.p,{children:"When you are ready, execute the command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"vagrant up --provider=linode\n"})}),"\n",(0,i.jsx)(n.p,{children:"Sit back, wait for the OXAR system reboot countdown and then pop the champagne. Magic!"}),"\n",(0,i.jsx)(n.p,{children:"Thanks for reading!"})]})}function h(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},83381:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/cesar-lopez-rivadeneira-6088-1280-8a2caff56c0277f1434063216060c6be.jpg"},56540:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/linode-create-apikey-26fec642442d149520e9b485c2a1f230.png"},4383:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/linode-note-apikey-bd41283849bae073ef58e8d1b9eba95b.png"},11151:(e,n,t)=>{t.d(n,{Z:()=>s,a:()=>a});var i=t(67294);const o={},r=i.createContext(o);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);