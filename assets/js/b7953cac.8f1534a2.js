"use strict";(self.webpackChunknewsite=self.webpackChunknewsite||[]).push([[8865],{3905:(e,t,a)=>{a.r(t),a.d(t,{MDXContext:()=>s,MDXProvider:()=>m,mdx:()=>f,useMDXComponents:()=>d,withMDXComponents:()=>p});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){return function(t){var a=d(t.components);return n.createElement(e,o({},t,{components:a}))}},d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},m=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=d(a),m=r,u=p["".concat(i,".").concat(m)]||p[m]||h[m]||o;return a?n.createElement(u,l(l({ref:t},s),{},{components:a})):n.createElement(u,l({ref:t},s))}));function f(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=g;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[u]="string"==typeof e?e:r,i[1]=l;for(var s=2;s<o;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}g.displayName="MDXCreateElement"},97887:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var n=a(87462),r=(a(67294),a(3905));const o={title:"Predict the Rugby World Cup 2023 Winner",image:"./assets/woman-in-crystal-ball.png",description:"Create an Oracle APEX application that predicts the winner of the Rugby World Cup 2023 matches using machine learning models trained and deployed using the OCI Data Science platform.",tags:["machine learning","artificial intelligence","data science","oci","oracle cloud","oracle apex","python"],categories:["Technology"],authors:["fuzziebrain"],date:new Date("2023-10-19T22:15:00.000Z")},i=void 0,l={permalink:"/content/predict-the-rugby-world-cup-2023-winner",source:"@site/posts/predict-the-rugby-world-cup-2023-winner/index.md",title:"Predict the Rugby World Cup 2023 Winner",description:"Create an Oracle APEX application that predicts the winner of the Rugby World Cup 2023 matches using machine learning models trained and deployed using the OCI Data Science platform.",date:"2023-10-19T22:15:00.000Z",formattedDate:"October 19, 2023",tags:[{label:"machine learning",permalink:"/content/tags/machine-learning"},{label:"artificial intelligence",permalink:"/content/tags/artificial-intelligence"},{label:"data science",permalink:"/content/tags/data-science"},{label:"oci",permalink:"/content/tags/oci"},{label:"oracle cloud",permalink:"/content/tags/oracle-cloud"},{label:"oracle apex",permalink:"/content/tags/oracle-apex"},{label:"python",permalink:"/content/tags/python"}],readingTime:3.625,hasTruncateMarker:!0,authors:[{name:"Adrian Png",title:"Senior Cloud Solutions Architect @ Insum",url:"https://github.com/fuzziebrain",imageURL:"https://github.com/fuzziebrain.png",key:"fuzziebrain"}],frontMatter:{title:"Predict the Rugby World Cup 2023 Winner",image:"./assets/woman-in-crystal-ball.png",description:"Create an Oracle APEX application that predicts the winner of the Rugby World Cup 2023 matches using machine learning models trained and deployed using the OCI Data Science platform.",tags:["machine learning","artificial intelligence","data science","oci","oracle cloud","oracle apex","python"],categories:["Technology"],authors:["fuzziebrain"],date:"2023-10-19T22:15:00.000Z"},nextItem:{title:"Closing the Era of the APEX Challenge Coin",permalink:"/content/closing-the-era-of-the-apex-challenge-coin"}},c={image:a(41616).Z,authorsImageUrls:[void 0]},s=[],p={toc:s};function d(e){let{components:t,...o}=e;return(0,r.mdx)("wrapper",(0,n.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("p",null,(0,r.mdx)("img",{alt:"Woman in a crystal ball",src:a(41616).Z,width:"1280",height:"720"})),(0,r.mdx)("p",null,"This has been one of those weeks where I couldn't wait to wake up and get to work. Just last week, ",(0,r.mdx)("a",{parentName:"p",href:"https://www.linkedin.com/in/luc-demanche-17107b2"},"Luc Demanche")," threw me a challenge and asked that I help develop an ",(0,r.mdx)("a",{parentName:"p",href:"https://apex.oracle.com"},"Oracle APEX")," application that could be used to predict the winner of the ",(0,r.mdx)("a",{parentName:"p",href:"https://www.rugbyworldcup.com/2023/"},"Rugby World Cup 2023")," (RWC2023). I couldn't resist the challenge!"),(0,r.mdx)("p",null,"The first challenge we had attempting to predict the outcome of a sports match was data. As with any machine learning (ML), obtaining ample high quality training data greatly influences the accuracy of the prediction models. This can sometimes be hard to find as professional sports is a lucrative market, and the highest quality data, such as player statistics, game performance, and match history, are typically collected, managed, and made available through paid channels. Something that I didn't have access to."),(0,r.mdx)("p",null,"Fortunately, my French teammate ",(0,r.mdx)("a",{parentName:"p",href:"https://www.linkedin.com/in/louis-moreaux"},"Louis Moreaux")," stumbled on a ",(0,r.mdx)("a",{parentName:"p",href:"https://www.kaggle.com/"},"Kaggle")," dataset that contained historical match data that was scrapped from ",(0,r.mdx)("a",{parentName:"p",href:"https://wikipedia.org"},"Wikipedia")," and aggregated by a contributor. The dataset contained minimal data on different rugby matches played since 1871. At first glance, there wasn't really much to work on, but fortunately, another contributor had presented a notebook that demonstrated how we can enrich the data and help better predict the match outcomes. This included calculating features such as a team's ranking point and form. This was good enough for the proof-of-concept application that we needed to build."),(0,r.mdx)("p",null,"It was only a few months ago that I sat for and passed the ",(0,r.mdx)("a",{parentName:"p",href:"https://education.oracle.com/oracle-cloud-infrastructure-data-science-2023-professional/pexam_1Z0-1110-23"},"Oracle Cloud Infrastructure Data Science 2023 Professional"),", so this was the perfect opportunity to put training to practice!"),(0,r.mdx)("p",null,"Without any hesitation, I provisioned a new ",(0,r.mdx)("a",{parentName:"p",href:"https://oracle.com/cloud"},"Oracle Cloud Infrastructure")," (OCI) ",(0,r.mdx)("a",{parentName:"p",href:"https://www.oracle.com/artificial-intelligence/data-science/"},"Data Science")," project, and worked on training the prediction model using a notebook session. The notebook session is Oracle's managed ",(0,r.mdx)("a",{parentName:"p",href:"https://jupyter.org/"},"Jupyter")," environment for data scientists to perform exploratory data analysis, data visualization, data cleaning and preparation, model training, validation, and deployment. I also utilise the powerful ",(0,r.mdx)("a",{parentName:"p",href:"https://accelerated-data-science.readthedocs.io"},"Oracle Accelerated Data Science")," (ADS) Python library that allows me to perform a wide variety of activities including interfacing with the OCI, accessing data stored in an ",(0,r.mdx)("a",{parentName:"p",href:"https://oracle.com/autonomousdatabase"},"Oracle Autonomous Database"),", managing and deploying models. Just to name a few."),(0,r.mdx)("p",null,"Once deployed, using the ML model in a web application is performed by invoking its HTTP endpoint. Of course, this being an OCI managed service, calls to the endpoints require signing. This is no different from calling any OCI REST APIs, and relies on creating the necessary OCI Identity and Access Management (IAM) users, groups, policies, and generating the required API keys. Oracle APEX simplifies the signing process, and you will only need to create the required APEX web credentials and reference its static identifier during the web service call. Below is an example PL/SQL snippet:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-sql"},"declare\n  c_model_url constant varchar2(32767) := 'https://modeldeployment.eu-paris-1.oci.customer-oci.com/ocid1.datasciencemodeldeployment.oc1.eu-paris-1.amaaaaa.../predict';\n\n  l_ranking_points_home ml_team.ranking_point%type;\n  l_ranking_points_away ml_team.ranking_point%type;\n  l_home_form ml_result.home_form%type;\n  l_away_form ml_result.home_form%type;\n\n  l_request_body clob;\n  l_response clob;\nbegin\n  -- Code to retrieve the required input values based on the teams selected.\n\n  l_request_body :=\n     apex_json.stringify(\n       json_array(\n          json_object(\n            key 'neutral' value 0\n            , key 'world_cup' value 1\n            , key 'ranking_points_home' value l_ranking_points_home\n            , key 'ranking_points_away' value l_ranking_points_away\n            , key 'home_form' value l_home_form\n            , key 'away_form' value l_away_form\n         )\n       )\n    );\n\n  apex_web_service.g_request_headers(1).name := 'Content-Type';\n  apex_web_service.g_request_headers(1).value := 'application/json';\n\n  l_response := apex_web_service.make_rest_request(\n    p_url => c_model_url\n    , p_http_method => 'POST'\n    , p_body => l_request_body\n    , p_credential_static_id => pkg_oci_common.g_credential_static_id\n  );\n\n  :P1_WINNING_TEAM :=\n    case\n      when json_value(l_response, '$.prediction[0]') = 'home_win' then\n        :P1_HOME_TEAM\n      else\n        :P1_AWAY_TEAM\n    end;\nend;\n")),(0,r.mdx)("p",null,"Here's the outcome and predictions for the next two ",(0,r.mdx)("a",{parentName:"p",href:"https://www.rugbyworldcup.com/2023/matches"},"matches")," to be held this week:"),(0,r.mdx)("youtube",{youTubeId:"B9mOhTp6TIs"}),(0,r.mdx)("p",null,"Let's see how our ML model fares this week."),(0,r.mdx)("p",null,"Do take the predicted outcomes with a huge pinch of salt. I did not do sufficient justice to the tremendous amount of work required to train a good ML model. In the spirit of rapid application development, we built this demo application within days, but it clearly demonstrates how we can we can train, deploy, and perform inferences using machine learning models with minimal need to manage the underlying infrastructure. I have, unfortunately, left out much of the details as I'm rushing to have this post published before the semi-final games tomorrow. However, you can expect more details on how to do this on your own, so stay tuned!"),(0,r.mdx)("blockquote",null,(0,r.mdx)("p",{parentName:"blockquote"},(0,r.mdx)("strong",{parentName:"p"},"Credits")),(0,r.mdx)("p",{parentName:"blockquote"},"Banner image generated using Stability AI's ",(0,r.mdx)("a",{parentName:"p",href:"https://huggingface.co/stabilityai/stable-diffusion-xl-base-1.0"},"Stable Diffusion")," model.")))}d.isMDXComponent=!0},41616:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/woman-in-crystal-ball-196996a4ae30f625defb6121c704b8bb.png"}}]);